<app-navigation></app-navigation>

<div class="main-container overview-container">
    @if (showContent) {
        <div class="pos-rel">
            <img class="img" src='{{ "https://backend.anastasiia-uenal.de" + overviewData.cover_picture }}'>
            <span class="age-span">{{ overviewData.age }}</span>
    
            <div class="info-box">
                <h2>{{ overviewData.title }}</h2>

                <div class="category-div">
                    @for (category of videoCategory; track category) {
                        <span>{{ category }}</span>
                    }
                </div>
                
                <span class="description-span" #video_description [class.collapsed]="isCollapsed" [style.height]="isCollapsed ? maxHeight+'px' : 'auto'">
                    {{ overviewData.description }}
                </span>
                
                @if (isCollapsable) {
                    @if (isCollapsed) {
                        <button class="isCollapsed-btn" mat-button (click)="isCollapsed =! isCollapsed">...read more</button>
                    } @else {
                        <button class="isCollapsed-btn" mat-button (click)="isCollapsed =! isCollapsed">...read less</button>
                    }
                }

                    

                <div class="btn-box">
                    <button mat-fab extended class="btn btn-watch" (click)="playVideo()">
                        <mat-icon>play_arrow</mat-icon>
                        Watch
                    </button>
                    @if (!listExist) {
                        <button mat-fab extended class="btn btn-list" matTooltip="My List" (click)="addVideoToMyList()">
                            <mat-icon>add_circle</mat-icon>
                            Add List
                        </button>
                    } @else {
                        <button mat-fab extended class="btn btn-list" matTooltip="My List" (click)="removeVideoFromMyList()">
                            <mat-icon>remove</mat-icon>
                            Remove List
                        </button>
                    }


                    <button mat-fab extended class="btn btn-info" (click)="openVideoInfo()">
                        <mat-icon>info</mat-icon>
                        Info
                    </button>
                </div>
            </div>
        </div>
    } @else {
        <div class="loading-box">
            <app-loading-spinner></app-loading-spinner>
        </div>
    }
    
</div>
